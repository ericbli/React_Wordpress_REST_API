{"version":3,"sources":["F:/test_test/React_Wordpress_REST_API/src/components/BookItem.js","F:/test_test/React_Wordpress_REST_API/src/components/Books.js","F:/test_test/React_Wordpress_REST_API/src/components/BookPage.js","F:/test_test/React_Wordpress_REST_API/src/App.js","F:/test_test/React_Wordpress_REST_API/src/index.js"],"names":["BookItem","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","imgUrl","author","isLoaded","inherits","createClass","key","value","_this2","_this$props$book","props","book","featured_media","getImagUrl","axios","get","getAuthor","Promise","all","then","res","setState","data","media_details","sizes","full","source_url","name","_this$props$book2","title","excerpt","id","_this$state","react_default","a","createElement","style","marginBottom","rendered","with","src","alt","dangerouslySetInnerHTML","__html","Link","to","Component","Books","books","catch","err","console","log","map","components_BookItem","BookPage","match","params","react","content","acf","price","imgurl","App","BrowserRouter","Route","exact","path","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.abaa4224.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class BookItem extends Component {\r\n   state={\r\n       imgUrl:'',\r\n       author:'',\r\n       isLoaded: false\r\n   }\r\n\r\n  static propTypes={\r\n   book: PropTypes.object.isRequired\r\n  }\r\n\r\ncomponentDidMount(){\r\n    const { featured_media, author }=this.props.book;\r\n\r\n    const getImagUrl= axios.get(`https://nortourunited.com/trailshop/wp-json/wp/v2/media/${featured_media}`);\r\n    const getAuthor=axios.get(`https://nortourunited.com/trailshop/wp-json/wp/v2/users/${author}`);\r\n     Promise.all([getImagUrl,getAuthor]).then(res=>{\r\n    //    console.log(res);\r\n       this.setState({\r\n      imgUrl:res[0].data.media_details.sizes.full.source_url,\r\n      author:res[1].data.name,\r\n      isLoaded:true\r\n  });\r\n   });\r\n}\r\n\r\n  render() {    \r\n      const{title, excerpt, id}=this.props.book;  \r\n      const {author,imgUrl,isLoaded}=this.state;\r\n      if(isLoaded){\r\n           return (\r\n        <div>\r\n        <h2 style={{marginBottom:'0'}}>{title.rendered}</h2>     {/* 大括号提取参数 */}\r\n         <small>Review by <strong>{author}</strong> </small> \r\n<img style={{with:'60%'}} src={imgUrl} alt={title.rendered}></img>\r\n        <div dangerouslySetInnerHTML={{__html:excerpt.rendered}}></div>\r\n        {/* <h2>{excerpt.rendered}</h2>    会带有多余的符号*/}\r\n       <Link to={`/book/${id}`}>Book Review</Link> \r\n              <hr />\r\n        </div>\r\n      )\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default BookItem\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport BookItem from './BookItem'\r\nexport class Books extends Component {\r\n    state ={\r\n        books:[],\r\n        isLoaded: false\r\n    }\r\ncomponentDidMount() {\r\n    axios.get('https://nortourunited.com/trailshop/wp-json/wp/v2/books')\r\n        .then(res=>this.setState({\r\n            books:res.data,\r\n            isLoaded:true\r\n        }))\r\n        .catch(err=>console.log(err));\r\n    \r\n}\r\n\r\n  render() {\r\n      console.log(this.state)\r\n      const{books, isLoaded}=this.state;\r\n      if(isLoaded){\r\n    return (\r\n      <div>\r\n        {books.map(book=>(\r\n             <BookItem key={book.id} book={book} />\r\n            // <h4>{book.title.rendered}</h4>\r\n        ))}\r\n      </div>\r\n    );\r\n   }\r\n\r\n   return <h3>Loading....</h3>\r\n  }\r\n}\r\n\r\nexport default Books\r\n","import React, { Component,Fragment } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class BookPage extends Component {\r\n  state={\r\n    book:{},\r\n    isLoaded: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"A111111111111111111111\"+this.props.match.params.id);   console.log(this);\r\n    console.log(\"aaaaaaaaaaa\"+this.props.match.params.title);  \r\n     axios.get(`https://nortourunited.com/trailshop/wp-json/wp/v2/books/${this.props.match.params.id}`)    //  参数id匹配的\r\n    .then(\r\n \r\n      res=>{\r\n        console.log(res);\r\n        this.setState(\r\n     {book: res.data,\r\n       isLoaded: true\r\n      } \r\n    )})\r\n    .catch(err=>console.log(err));\r\n  }\r\n  render() {\r\n    \r\n    const{book, isLoaded}=this.state;   console.log(\"oooooooooooooooo\"+this);\r\n    if(isLoaded){\r\n      console.log(book); console.log(\"BBBBBBBBBBBBBBBBBBBB\");\r\n      console.log(isLoaded); console.log(\"ccccccccccccccccc\");\r\n    return (\r\n     \r\n      <Fragment>\r\n        <Link to='/'>Go Back</Link>\r\n        <hr/>\r\n        <h2 style={{marginBottom:'0'}}>{book.title.rendered}</h2>     {/* 大括号提取参数 */}\r\n        <div dangerouslySetInnerHTML={{__html: book.content.rendered}}></div>\r\n        <h4>Price:{book.acf.price} USD </h4>\r\n       \r\n        <img style={{with:'60%'}} src={book.acf.imgurl} alt=\"New Products\"></img>\r\n      </Fragment>\r\n    )\r\n  }\r\n  return <h3>Loading......</h3>\r\n  }\r\n}\r\n\r\nexport default BookPage\r\n","import React, { Component, Fragment } from 'react';\r\n// import logo from './logo.svg';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Books from './components/Books';\r\nimport BookPage from './components/BookPage';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n\r\n<Router>\r\n<Fragment>\r\n  <Route exact path=\"/\" component={Books} />\r\n  <Route exact path=\"/book/:id\" component={BookPage} />\r\n</Fragment>\r\n\r\n</Router>\r\n\r\n\r\n\r\n\r\n\r\n    //   <div className=\"App\">\r\n    //   <Books/>\r\n    //  </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}